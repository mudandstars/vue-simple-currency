"use strict";const l=require("vue");function x(a){if(!a)return"0";const s=a.split("").reverse(),r=[];for(let n=0;n<s.length;n+=3)r.push(s.slice(n,n+3).reverse().join(""));return r.reverse().join(".")}const V={class:"relative mt-2 rounded-md shadow-sm"},y=["value"],_=l.createElementVNode("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"},[l.createElementVNode("span",{class:"text-gray-500 sm:text-sm"},"EUR")],-1),N=l.defineComponent({__name:"CurrencyInput",props:{modelValue:{}},emits:["update:modelValue"],setup(a,{emit:s}){var c;const r=a;function n(e){const i=e[0]==="0"?e.substring(1):e;t.value=i+"€",e[e.length-1]==="€"&&e.includes(",00")&&(console.log(0,o(t.value)),u())}const t=l.ref(((c=r.modelValue)==null?void 0:c.toString())||"0,00€");l.watch(()=>t.value,async()=>{p(t.value)&&(t.value=t.value.slice(0,t.value.indexOf("00€€")+1)+",00€"),g(t.value)&&(t.value=t.value.slice(0,t.value.indexOf(",")-1)+",00€",console.log(1,t.value,o(t.value)),u()),v(t.value)&&(t.value=t.value.substring(0,t.value.indexOf(","))+"0,00€",console.log(2,t.value,o(t.value)),u()),m(t.value)&&(t.value=t.value.slice(0,t.value.indexOf(","))+t.value[t.value.length-1]+",00€",console.log(3,t.value,o(t.value)),u()),t.value=t.value.replace(/[^0-9,]/g,"")});function u(){const e=o(t.value);isNaN(e)?s("update:modelValue",0):s("update:modelValue",e)}const g=e=>e[e.length-1]==="€"&&e[e.length-2]==="0"&&e[e.length-3]!=="€",m=e=>!isNaN(parseInt(e[e.length-1]))&&e[e.length-1]!=="0",p=e=>e.includes("€€")&&!e.includes(","),v=e=>e.includes("€0€"),o=e=>parseInt(e[0]==="0"?e.slice(1):e.split(",")[0].replaceAll(".",""))*100,f=()=>{let e=t.value.slice(0,t.value.indexOf(","));return`${x(e)},00€`};return(e,i)=>(l.openBlock(),l.createElementBlock("div",null,[l.createElementVNode("div",V,[l.createElementVNode("input",{type:"text",class:"block w-full rounded-md border-0 py-1.5 pr-12 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"0.00",value:f(),onInput:i[0]||(i[0]=h=>{var d;return n((d=h.target)==null?void 0:d.value)})},null,40,y),_])]))}});module.exports=N;
