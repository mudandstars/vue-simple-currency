(function(t,s){typeof exports=="object"&&typeof module<"u"?module.exports=s(require("vue")):typeof define=="function"&&define.amd?define(["vue"],s):(t=typeof globalThis<"u"?globalThis:t||self,t.VueSimpleCurrency=s(t.Vue))})(this,function(t){"use strict";function s(r){if(!r)return"0";const o=r.split("").reverse(),a=[];for(let l=0;l<o.length;l+=3)a.push(o.slice(l,l+3).reverse().join(""));return a.reverse().join(".")}const p={class:"relative mt-2 rounded-md shadow-sm"},m=["value"],g=t.createElementVNode("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"},[t.createElementVNode("span",{class:"text-gray-500 sm:text-sm"},"EUR")],-1);return t.defineComponent({__name:"CurrencyInput",props:{modelValue:{}},emits:["update:modelValue"],setup(r,{emit:o}){var d;const a=r;function l(e){const c=e[0]==="0"?e.substring(1):e;n.value=c+"€",e[e.length-1]==="€"&&e.includes(",00")&&(console.log(0,i(n.value)),u())}const n=t.ref(((d=a.modelValue)==null?void 0:d.toString())||"0,00€");t.watch(()=>n.value,async()=>{V(n.value)&&(n.value=n.value.slice(0,n.value.indexOf("00€€")+1)+",00€"),h(n.value)&&(n.value=n.value.slice(0,n.value.indexOf(",")-1)+",00€",console.log(1,n.value,i(n.value)),u()),x(n.value)&&(n.value=n.value.substring(0,n.value.indexOf(","))+"0,00€",console.log(2,n.value,i(n.value)),u()),v(n.value)&&(n.value=n.value.slice(0,n.value.indexOf(","))+n.value[n.value.length-1]+",00€",console.log(3,n.value,i(n.value)),u()),n.value=n.value.replace(/[^0-9,]/g,"")});function u(){const e=i(n.value);isNaN(e)?o("update:modelValue",0):o("update:modelValue",e)}const h=e=>e[e.length-1]==="€"&&e[e.length-2]==="0"&&e[e.length-3]!=="€",v=e=>!isNaN(parseInt(e[e.length-1]))&&e[e.length-1]!=="0",V=e=>e.includes("€€")&&!e.includes(","),x=e=>e.includes("€0€"),i=e=>parseInt(e[0]==="0"?e.slice(1):e.split(",")[0].replaceAll(".",""))*100,y=()=>{let e=n.value.slice(0,n.value.indexOf(","));return`${s(e)},00€`};return(e,c)=>(t.openBlock(),t.createElementBlock("div",null,[t.createElementVNode("div",p,[t.createElementVNode("input",{type:"text",class:"block w-full rounded-md border-0 py-1.5 pr-12 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"0.00",value:y(),onInput:c[0]||(c[0]=_=>{var f;return l((f=_.target)==null?void 0:f.value)})},null,40,m),g])]))}})});
